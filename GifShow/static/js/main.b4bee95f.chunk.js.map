{"version":3,"sources":["components/Contacts/img/giphy-logo.png","constant.js","utils/utils.js","components/SearchBar/SearchBar.js","components/Header/Header.js","components/Navigation/Navigation.js","components/Option/Option.js","ActionCreator/index.js","components/LoadBar/LoadBar.js","components/Controls/Controls.js","components/Item/Item.js","components/RequestStatusBar/RequestStatusBar.js","components/ItemList/ItemList.js","components/GalleryControls/GalleryControls.js","components/GalleryCopyBar/GalleryCopyBar.js","components/ItemGallery/ItemGallery.js","components/Content/Content.js","components/NotFound/NotFound.js","components/routes/Container.js","components/routes/ContainerType.js","components/IconGithub/IconGithub.js","components/IconMail/IconMail.js","components/IconSkype/IconSkype.js","components/AuthorContacts/AuthorContacts.js","components/Contacts/Contacts.js","components/App/App.js","reducer/data.js","reducer/gallery.js","utils/localStorage.js","reducer/favorite.js","reducer/load.js","reducer/index.js","reducer/autoplay.js","store/store.js","middlewares/dataloader.js","middlewares/favoriteloader.js","components/Root/Root.js","serviceWorker.js","index.js"],"names":["module","exports","TRENDING","SEARCH","ID","RANDOM","FAVORITE","NUMBER_OF_COLUMNS","ONE","TWO","THREE","FOUR","MIN_WIDTH_FOR_COLUMNS","COLUMN_POSITION","4","3","2","1","CONTROLS_WIDTH","CONTROLS_HEIGHT","GALLERY_PADDING","MAX_COLUMNS_NUMBER","GIFS","STICKERS","ORIGINAL","DEFAULT_OFFSET_VALUE","INCREASE_OFFSET_VALUE","DISTANCE_BETWEEN_ITEM","API_HOST","API_KEY","GIFSHOW_HOST","ESC_KEY_NAME","ENTER_KEY_NAME","calcNewURL","prevUrl","path","newURL","data","arguments","length","undefined","split","join","convertUserInput","text","trim","replace","createRequestFromURL","url","offset","itemType","actionType","payload","sortOnHeight","a","b","firstItemHeight","images","fixed_width","height","secondItemHeight","checkStatus","response","responseStatus","status","responseMessage","statusText","Promise","resolve","reject","Error","calcTagsSize","imageOriginalWidth","imageOriginalHeight","numberOfColumns","size","gallery","inner","image","controls","screen","width","concat","calcGalleryTagStyle","imageSizeType","original","imageSmallWidth","imageSmallHeight","clientWidth","document","documentElement","clientHeight","tagSize","galleryComponentsSize","Object","objectSpread","newImageWidth","widthRate","newImageHeight","heightRate","resizeTags","galleryStyle","top","left","innerStyle","screenStyle","includeFavoriteItemId","id","favoriteItems","isInclude","key","defineNumberOfColumns","calcItemPosition","columnHeight","columnPosition","row","col","SerchBar","state","userInputValue","isInputEmpty","onInputChange","evt","target","value","_this","setState","onSerchButtonClick","serchText","currentUrl","props","history","location","pathname","push","onKeyDown","react_default","createElement","Fragment","className","type","placeholder","this","onChange","onClick","disabled","Component","withRouter","Header","href","SearchBar","Navigation","onNavButtonClick","dataset","data-path","NavLink","to","Option","onRadioButtonChange","isAutoplay","setAutoplay","name","defaultChecked","htmlFor","connect","store","LoadBar","getBody","isLoading","loadStatus","Controls","isMenuOpen","changeMenuStatus","nextProps","components_Navigation_Navigation","components_Option_Option","components_LoadBar_LoadBar","Item","isMouseOnItem","onUserClick","_this$props","itemData","currentItemType","itemUrl","dataForGallery","onMouseEnter","onMouseLeave","onKeyPress","event","nextState","nextContent","src","_this$props2","position","title","imageWidth","imageHeight","fixed_width_still","style","tabIndex","alt","RequestStatusBar","getStatus","request","itemsAmount","amount","slice","getStatusBody","isError","errorMessage","ItemList","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getData","userRequest","loadData","getFavorite","isEmpty","body","Array","fill","fullColumnHeight","components_Item_Item","changeGalleryItem","getItemsAmount","itemTotalCount","counter","increaseOffset","newArry","sort","currentData","components_RequestStatusBar_RequestStatusBar","getButtonTopPosition","dispatch","GalleryControls","onSelectChange","changeImageSize","onCopyButtonClick","onFavoriteButtonClick","isItemFavorite","isCopyButtonDisabled","isCopyBarOpen","sizeValue","onCloseButtonClick","String","fromCharCode","GalleryCopyBar","onInputClick","select","itemLink","defaultValue","ItemGallery","imageSize","getImageSrc","changeItemStatus","showCopyBar","hideCopyBar","learnIsItemFavorite","favorite","isOpen","tagStyle","ref","focus","components_GalleryCopyBar_GalleryCopyBar","components_GalleryControls_GalleryControls","isGalleryOpen","deleteItemFromFavorite","addItemToFavorite","Content","match","components_ItemGallery_ItemGallery","components_ItemList_ItemList","NotFound","Container","WrappedContent","components_Content_Content","assign","Switch","Route","component","ContainerType","WrappedContainer","routes_Container","Redirect","from","IconGithub","iconWidth","iconHeight","iconColor","iconStyle","xmlns","viewBox","enableBackground","fillRule","clipRule","d","IconMail","version","xlink","x","y","space","IconSkype","AuthorContacts","extraWidth","contactsIconAmount","contactsIconWidth","contactsIconHeight","contactsListWidth","listStyle","components_IconGithub_IconGithub","components_IconMail_IconMail","components_IconSkype_IconSkype","Contacts","giphyLogo","display","components_AuthorContacts_AuthorContacts","App","onBrowserSizeChange","currentBrowserWidth","innerWidth","changeNumberOfColumns","newNumber","browserWidth","window","addEventListener","removeEventListener","HashRouter","components_Header_Header","components_Controls_Controls","routes_ContainerType","defaultState","resultStore","localStorage","defaultGifShowStorage","_defaultGifShowStorag","defineProperty","getItem","setItem","JSON","stringify","parse","combineReducers","action","dataState","isRequestSingleItem","pagination","total_count","addressForStorage","dataForStorage","getResultStore","screenState","newStorage","favoriteState","newFavorite","loadState","enhancer","applyMiddleware","next","requestedData","param","addressForAPI","getAddressFromRequest","getState","fetch","then","resp","json","reduce","prevValue","element","catch","error","message","fullData","start","end","i","getDataWithOffset","createStore","reducer","Root","es","components_App_App","Boolean","hostname","ReactDOM","render","Root_Root","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b4bee95f.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAbCAYAAACKlipAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABNBJREFUeNrsWj1sHEUUnkNO2KCgW0QKhwKuQaTjACG786a7jhM1UjYUdgemo8ulgo4ruaRZSwilvHTuvNeFBjZUV55TJCdAMJaAnMzPsuN8Qx6Pt7uT9Z7vLPlJz7vz9+bN+589N9I0VWewPNCQFXKrnf3xnalMfruoPhv/ilaiBgPtsMoX9piw8Tbe9RHdJ9DKcJbhFO1VtDUZt2s4fY25qzn7+jlrFOun+1vwBLp0P86zh/aMLljJEVY/ww1nhRz+TVtXM4wdVhlhB6xvnOEdjHXZ2HqGEfqNcD7HYUIc/EscNISAJwL9GP0h65+CdjtnjRL6J1ijiJBD4ZxfZ/g+katH5vX55JUl8NJdCNQI+kqGr+N9BuUYYXUgrA48JUBbE8ukHpUQi94llqmF/g7WU+uOmJW32Zp18NomnqvI3gnGDL4CpXaAPni+w70jVyHZiosH2fOSUvd/VGq7VKTfarPxF2jtqa0t87yZha6eg0KmQA2hvEwOb0PJEKHIx+ECCEQzD2oRT1snnjgjwnIJpwEzGMrrBM9PwQNXiOXThtZ7eF4hih0DlZNCMmUc5YOfjpjfLA8/e1vH8ZBQUE4RaAiF5hIPB/YhoJnDvh1h31YNHm/5s3nCAz/GqLbJu3JWSE0QZp4SIMkXeVlCkl+CA1iBaRJWfOIxCYTnwQJ9YtVjgf6UJGOPWP4qrPYeU2LMEjjNE4p437hAIR7mBVCAJsqfLUIhrwHLIGHVlbWgruA9u4Igxjh8gLXjAk+YEGFPsfcq9tI5XhsX0EpyipU2488Z6lKIOcyIdtz+/u03fni8cuHF841LHxUrYpozNkUYsvTHxLJmqKrs+wyJeFagaEXK44hYakTKUmmNFkpyqeydsmJAmheVhVPxHtJQt2KUvaNUbQZVNPTBq4NfDv545DfPXdZfPdh66ezKd7IeUgfYu4e9lNrL4DCnkmkxK04IHb/Em/NCjS/ktrzqi+YyP+fuUkRfnmc8hKNKB3GGqXlK4y44eCeNM0zNs2RuK0MzpwhizLNresK4HSujZUBnuM344OsCgddUmNPP6edn1AU8/4vPLYFXJA5fBTbYZe+40MS9KaqBlrlr7bO+iPEaYU9ysxBv9QtViI9w1BTGRkLftuOl7lngmhCGqhQ0oVBh2lK/KxhcTygeFq6QUCiLPzmqKZ4IqYHvYsb6rh/DmndA5yroHLDxbg1nMbngLuu7gQgQCcbWX8akzq3qpsBoXMPtecKSpxHSx6xd13kmzOO/+/9HEDlULYOHvMnaQ1LJpDnYO0H+9oT9nzV0KddQtYxlbzInugFRZAt5o6xErQpDhKSNnLzYP033EH8OSdtWaEVVXFTzfiGMy6mqWiaFHDCmuxBOggRMQ8e84HpBCNkRxm445qyI5amoLFQtg0JMqHiPtPvq6Y878ZwNYUj2K/KcuIJClODpzp6/SIX0mUKaEMAQ1tSu4Y5gq7eeOiUgK+Thu4fqr3P76s/nvcbP1Q6z9qHyXvhd7V94rA438z1khyXZppB0K1naaQVZIY/eOq+e/p6xVoXwN2v/ialld5FrDiRHc0jAp0QhJ39BjPCpIRA+pdxFGItY4hzllMyJkGSrlN3a4ZOOLkjsowo85P1f1hksCs4UsmTwjwADAPfqw1QnSLBaAAAAAElFTkSuQmCC\"","export const TRENDING = `trending`;\r\nexport const SEARCH = `search`;\r\nexport const ID = `id`;\r\nexport const RANDOM = `random`;\r\nexport const FAVORITE = `favorite`;\r\nexport const GIF_SHOW = `GifShow`;\r\n\r\nexport const NUMBER_OF_COLUMNS = {\r\n  ONE: 1,\r\n  TWO: 2,\r\n  THREE: 3,\r\n  FOUR: 4\r\n};\r\n\r\nexport const MIN_WIDTH_FOR_COLUMNS = {\r\n  ONE: 230,\r\n  TWO: 470,\r\n  THREE: 680,\r\n  FOUR: 918\r\n};\r\n\r\nexport const COLUMN_POSITION = {\r\n  \"4\": [0, 200, 400, 600],\r\n  \"3\": [0, 200, 400],\r\n  \"2\": [0, 200],\r\n  \"1\": [0]\r\n};\r\n\r\nexport const CONTROLS_WIDTH = {\r\n  \"4\": 500,\r\n  \"3\": 500,\r\n  \"2\": 430,\r\n  \"1\": 280\r\n};\r\n\r\nexport const CONTROLS_HEIGHT = {\r\n  \"4\": 60,\r\n  \"3\": 60,\r\n  \"2\": 60,\r\n  \"1\": 60\r\n};\r\n\r\nexport const GALLERY_PADDING = {\r\n  \"4\": 40,\r\n  \"3\": 40,\r\n  \"2\": 20,\r\n  \"1\": 20\r\n};\r\n\r\nexport const SCREEN_PADDING = 20;\r\n\r\nexport const MAX_COLUMNS_NUMBER = 4;\r\n\r\nexport const PC_MIN_WIDTH = 976;\r\nexport const TABLET_1_MIN_WIDTH = 640;\r\nexport const TABLET_2_MIN_WIDTH = 430;\r\nexport const MOBILE_MIN_WIDTH = 220;\r\n\r\nexport const HOME_PAGE = `/gifs/trending/`;\r\n\r\nexport const GIFS = `gifs`;\r\nexport const STICKERS = `stickers`;\r\n\r\nexport const SET_AUTOPLAY = `SET_AUTOPLAY`;\r\n\r\nexport const LOAD_DATA = `LOAD_DATA`;\r\nexport const LOAD_START = `LOAD_START`;\r\nexport const LOAD_COMPLETE = `LOAD_COMPLETE`;\r\nexport const LOAD_ERROR = `LOAD_ERROR`;\r\nexport const LOAD_FAVORITE = `LOAD_FAVORITE`;\r\nexport const CHANGE_CURRENT_DATA = `CHANGE_CURRENT_DATA`;\r\n\r\nexport const DELETE_FROM_FAVORITE = `DELETE_FROM_FAVORITE`;\r\nexport const ADD_TO_FAVORITE = `ADD_TO_FAVORITE`;\r\nexport const REFRESH_FAVORITE = `REFRESH_FAVORITE`;\r\n\r\nexport const CHANGE_GALLERY_ITEM = `CHANGE_GALLERY_ITEM`;\r\nexport const CLOSE_GALLERY = `CLOSE_GALLERY`;\r\n\r\nexport const ORIGINAL = `ORIGINAL`;\r\nexport const SMALL = `SMALL`;\r\n\r\nexport const DEFAULT_OFFSET_VALUE = 0;\r\nexport const INCREASE_OFFSET_VALUE = 25;\r\nexport const DISTANCE_BETWEEN_ITEM = 10;\r\n\r\nexport const API_HOST = `https://api.giphy.com/v1`;\r\n\r\nexport const API_KEY = `ZWmPvfk5xK6wl6k7YSQShDqklkHlKgFv`;\r\n\r\nexport const GIFSHOW_HOST = `https://my420.github.io/GifShow/#`;\r\n\r\nexport const GALLERY_CONTROLS_WIDTH = 500;\r\nexport const GALLERY_CONTROLS_HEIGHT = 30;\r\n\r\nexport const GALLERY_IMAGE_BOTTOM_MARGIN = 30;\r\nexport const GALLERY_CONTROLS_BOTTOM_MARGIN = 20;\r\n\r\nexport const ESC_KEY_NAME = `Escape`;\r\nexport const ENTER_KEY_NAME = `Enter`;\r\n","import {\r\n  TRENDING,\r\n  SEARCH,\r\n  RANDOM,\r\n  ORIGINAL,\r\n  ID,\r\n  GIFS,\r\n  STICKERS,\r\n  API_HOST,\r\n  API_KEY,\r\n  GALLERY_PADDING,\r\n  CONTROLS_WIDTH,\r\n  FAVORITE,\r\n  INCREASE_OFFSET_VALUE,\r\n  MIN_WIDTH_FOR_COLUMNS,\r\n  NUMBER_OF_COLUMNS,\r\n  DISTANCE_BETWEEN_ITEM,\r\n  CONTROLS_HEIGHT,\r\n  SCREEN_PADDING\r\n} from \"../constant\";\r\n\r\nexport const calcNewURL = function(prevUrl, path, data = false) {\r\n  let newURL;\r\n\r\n  if (\r\n    path === TRENDING ||\r\n    path === SEARCH ||\r\n    path === RANDOM ||\r\n    path === FAVORITE\r\n  ) {\r\n    newURL = prevUrl.split(`/`, 3);\r\n    newURL[2] = path;\r\n    if (newURL[1] !== GIFS && newURL[1] !== STICKERS) {\r\n      newURL[1] = GIFS;\r\n    }\r\n    if (data) {\r\n      newURL[3] = data;\r\n    }\r\n    newURL = newURL.join(`/`) + `/`;\r\n  } else if (path === GIFS || path === STICKERS) {\r\n    newURL = prevUrl.split(`/`);\r\n    newURL[1] = path;\r\n    if (newURL[2] === ``) {\r\n      newURL[2] = TRENDING;\r\n    }\r\n    newURL = newURL.join(`/`);\r\n  } else {\r\n    newURL = false;\r\n  }\r\n\r\n  return newURL;\r\n};\r\n\r\nexport const convertUserInput = function(text) {\r\n  let convertText = text.trim().replace(/ /g, `+`);\r\n  return convertText;\r\n};\r\n\r\nexport const createRequestFromURL = function(url, offset) {\r\n  url = url.split(`/`);\r\n  return {\r\n    itemType: url[1],\r\n    actionType: url[2],\r\n    offset: offset,\r\n    payload: url[3]\r\n  };\r\n};\r\n\r\nexport const getAddressFromRequest = function(param) {\r\n  const { itemType, actionType, offset, payload } = param;\r\n  let addressForStorage;\r\n  let addressForAPI;\r\n  let isRequestSingleItem;\r\n\r\n  switch (actionType) {\r\n    case TRENDING: {\r\n      isRequestSingleItem = false;\r\n      addressForStorage = `${itemType}/${actionType}/${offset}`;\r\n      addressForAPI = `${API_HOST}/${itemType}/${actionType}?&api_key=${API_KEY}&offset=${offset}`;\r\n      break;\r\n    }\r\n    case SEARCH: {\r\n      isRequestSingleItem = false;\r\n      addressForStorage = `${itemType}/${actionType}/${payload}/${offset}`;\r\n      addressForAPI = `${API_HOST}/${itemType}/${actionType}?q=${payload}&api_key=${API_KEY}&offset=${offset}`;\r\n      break;\r\n    }\r\n    case ID: {\r\n      isRequestSingleItem = true;\r\n      addressForStorage = `${itemType}/${actionType}/${payload}`;\r\n      addressForAPI = `${API_HOST}/${itemType}/${payload}?q=&api_key=${API_KEY}`;\r\n      break;\r\n    }\r\n\r\n    case RANDOM: {\r\n      isRequestSingleItem = true;\r\n      addressForStorage = null;\r\n      addressForAPI = `${API_HOST}/${itemType}/${actionType}?q=&api_key=${API_KEY}`;\r\n      break;\r\n    }\r\n  }\r\n\r\n  return { addressForStorage, addressForAPI, offset, isRequestSingleItem };\r\n};\r\n\r\nexport const massToObj = function(arr) {\r\n  return arr.reduce((prevValue, element) => {\r\n    prevValue[element.id] = element;\r\n    return prevValue;\r\n  }, {});\r\n};\r\n\r\nexport const sortOnHeight = function(a, b) {\r\n  const firstItemHeight = +a.images.fixed_width.height;\r\n  const secondItemHeight = +b.images.fixed_width.height;\r\n\r\n  if (firstItemHeight > secondItemHeight) return 1;\r\n\r\n  if (firstItemHeight < secondItemHeight) return -1;\r\n\r\n  return 0;\r\n};\r\n\r\nexport const checkStatus = function(response) {\r\n  const responseStatus = +response.status;\r\n  const responseMessage = response.statusText;\r\n  if (responseStatus >= 200 && responseStatus < 300) {\r\n    return Promise.resolve(response);\r\n  } else {\r\n    return Promise.reject(new Error(responseMessage));\r\n  }\r\n};\r\n\r\nexport const calcTagsSize = function(\r\n  imageOriginalWidth,\r\n  imageOriginalHeight,\r\n  numberOfColumns\r\n) {\r\n  let size = {\r\n    gallery: {},\r\n    inner: {},\r\n    image: {},\r\n    controls: {},\r\n    screen: {}\r\n  };\r\n\r\n  size.image.width = imageOriginalWidth;\r\n  size.image.height = imageOriginalHeight;\r\n\r\n  size.controls.width =\r\n    size.image.width > CONTROLS_WIDTH[`${numberOfColumns}`]\r\n      ? size.image.width\r\n      : CONTROLS_WIDTH[`${numberOfColumns}`];\r\n  size.controls.height = CONTROLS_HEIGHT[`${numberOfColumns}`];\r\n\r\n  size.screen.width = size.controls.width;\r\n  size.screen.height = size.image.height;\r\n\r\n  size.inner.width = size.controls.width;\r\n  size.inner.height = size.image.height + size.controls.height;\r\n\r\n  size.gallery.width = size.inner.width + GALLERY_PADDING[`${numberOfColumns}`];\r\n  size.gallery.height =\r\n    size.inner.height + GALLERY_PADDING[`${numberOfColumns}`];\r\n\r\n  return size;\r\n};\r\n\r\nexport const resizeTags = function(\r\n  tagSize,\r\n  clientWidth,\r\n  clientHeight,\r\n  numberOfColumns\r\n) {\r\n  const widthDifference = tagSize.gallery.width - clientWidth;\r\n  const heightDifference = tagSize.gallery.height - clientHeight;\r\n\r\n  if (widthDifference > heightDifference) {\r\n    const newImageWidth = clientWidth - GALLERY_PADDING[`${numberOfColumns}`];\r\n    const widthRate = newImageWidth / tagSize.image.width;\r\n    const newImageHeight = tagSize.image.height * widthRate;\r\n\r\n    return calcTagsSize(newImageWidth, newImageHeight, numberOfColumns);\r\n  }\r\n  const newImageHeight =\r\n    clientHeight -\r\n    GALLERY_PADDING[`${numberOfColumns}`] -\r\n    CONTROLS_HEIGHT[`${numberOfColumns}`];\r\n  const heightRate = newImageHeight / tagSize.image.height;\r\n  const newImageWidth = tagSize.image.width * heightRate;\r\n\r\n  return calcTagsSize(newImageWidth, newImageHeight, numberOfColumns);\r\n};\r\n\r\nexport const calcGalleryTagStyle = function(\r\n  data,\r\n  imageSizeType,\r\n  numberOfColumns\r\n) {\r\n  const imageOriginalWidth = +data.images.original.width;\r\n  const imageOriginalHeight = +data.images.original.height;\r\n  const imageSmallWidth = +data.images.fixed_width.width;\r\n  const imageSmallHeight = +data.images.fixed_width.height;\r\n\r\n  const clientWidth = document.documentElement.clientWidth - SCREEN_PADDING;\r\n  const clientHeight = document.documentElement.clientHeight - SCREEN_PADDING;\r\n\r\n  const tagSize = calcTagsSize(\r\n    imageOriginalWidth,\r\n    imageOriginalHeight,\r\n    numberOfColumns\r\n  );\r\n  let galleryComponentsSize = { ...tagSize };\r\n\r\n  if (\r\n    clientWidth < tagSize.gallery.width ||\r\n    clientHeight < tagSize.gallery.height\r\n  ) {\r\n    galleryComponentsSize = resizeTags(\r\n      tagSize,\r\n      clientWidth,\r\n      clientHeight,\r\n      numberOfColumns\r\n    );\r\n  }\r\n\r\n  const galleryStyle = {\r\n    width: galleryComponentsSize.gallery.width + `px`,\r\n    height: galleryComponentsSize.gallery.height + `px`,\r\n    top: `${(clientHeight +\r\n      SCREEN_PADDING -\r\n      galleryComponentsSize.gallery.height) /\r\n      2}px`,\r\n    left: `${(clientWidth +\r\n      SCREEN_PADDING -\r\n      galleryComponentsSize.gallery.width) /\r\n      2}px`\r\n  };\r\n\r\n  const innerStyle = {\r\n    width: galleryComponentsSize.inner.width + `px`,\r\n    height: galleryComponentsSize.inner.height + `px`\r\n  };\r\n\r\n  const screenStyle = {\r\n    width: galleryComponentsSize.screen.width + `px`,\r\n    height: galleryComponentsSize.screen.height + `px`\r\n  };\r\n\r\n  const imageStyle = {\r\n    width:\r\n      `${\r\n        imageSizeType === ORIGINAL\r\n          ? galleryComponentsSize.image.width\r\n          : imageSmallWidth\r\n      }` + `px`,\r\n    height:\r\n      `${\r\n        imageSizeType === ORIGINAL\r\n          ? galleryComponentsSize.image.height\r\n          : imageSmallHeight\r\n      }` + `px`\r\n  };\r\n\r\n  const controlsStyle = {\r\n    width: galleryComponentsSize.controls.width + `px`,\r\n    height: galleryComponentsSize.controls.height + `px`\r\n  };\r\n\r\n  return {\r\n    gallery: galleryStyle,\r\n    inner: innerStyle,\r\n    image: imageStyle,\r\n    controls: controlsStyle,\r\n    screen: screenStyle\r\n  };\r\n};\r\n\r\nexport const includeFavoriteItemId = function(id, itemType, favoriteItems) {\r\n  let isInclude = false;\r\n  for (const key in favoriteItems[itemType]) {\r\n    if (id === key) isInclude = true;\r\n  }\r\n\r\n  return isInclude;\r\n};\r\n\r\nexport const getDataWithOffset = function(fullData, offset) {\r\n  let data = {};\r\n  let start = offset + 1;\r\n  let end = offset + INCREASE_OFFSET_VALUE;\r\n  let i = 1;\r\n  for (const key in fullData) {\r\n    if (i >= start && i <= end) {\r\n      data[key] = fullData[key];\r\n    }\r\n    i++;\r\n    if (i > end) return data;\r\n  }\r\n\r\n  return data;\r\n};\r\n\r\nexport const getItemsAmount = function(fullData) {\r\n  let counter = 0;\r\n\r\n  for (const key in fullData) {\r\n    counter++;\r\n  }\r\n\r\n  return counter;\r\n};\r\n\r\nexport const defineNumberOfColumns = function(width) {\r\n  if (width >= MIN_WIDTH_FOR_COLUMNS.FOUR) {\r\n    return NUMBER_OF_COLUMNS.FOUR;\r\n  } else if (width >= MIN_WIDTH_FOR_COLUMNS.THREE) {\r\n    return NUMBER_OF_COLUMNS.THREE;\r\n  } else if (width >= MIN_WIDTH_FOR_COLUMNS.TWO) {\r\n    return NUMBER_OF_COLUMNS.TWO;\r\n  } else return NUMBER_OF_COLUMNS.ONE;\r\n};\r\n\r\nexport const calcItemPosition = function(\r\n  columnHeight,\r\n  columnPosition,\r\n  row,\r\n  col\r\n) {\r\n  const topSpace =\r\n    row === 0\r\n      ? DISTANCE_BETWEEN_ITEM\r\n      : row * DISTANCE_BETWEEN_ITEM + DISTANCE_BETWEEN_ITEM;\r\n  const leftSpace =\r\n    col === 0\r\n      ? DISTANCE_BETWEEN_ITEM\r\n      : col * DISTANCE_BETWEEN_ITEM + DISTANCE_BETWEEN_ITEM;\r\n\r\n  return {\r\n    top: columnHeight + topSpace,\r\n    left: columnPosition + leftSpace\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./searchbar.scss\";\r\nimport { withRouter } from \"react-router\";\r\nimport { calcNewURL, convertUserInput } from \"../../utils/utils\";\r\nimport { SEARCH, ENTER_KEY_NAME } from \"../../constant\";\r\n\r\nclass SerchBar extends Component {\r\n  state = {\r\n    userInputValue: \"\",\r\n    isInputEmpty: true\r\n  };\r\n\r\n  onInputChange = evt => {\r\n    const isInputEmpty = evt.target.value === `` ? true : false;\r\n    this.setState({\r\n      userInputValue: evt.target.value,\r\n      isInputEmpty: isInputEmpty\r\n    });\r\n  };\r\n\r\n  onSerchButtonClick = evt => {\r\n    const serchText = convertUserInput(this.state.userInputValue);\r\n    const path = SEARCH;\r\n    const currentUrl = this.props.history.location.pathname;\r\n    const newURL = calcNewURL(currentUrl, path, serchText);\r\n    if (newURL && newURL !== currentUrl) this.props.history.push(newURL);\r\n  };\r\n\r\n  onKeyDown = evt => {\r\n    if (evt.key === ENTER_KEY_NAME) {\r\n      this.onSerchButtonClick();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <input\r\n          className=\"app__search-field\"\r\n          type=\"text\"\r\n          placeholder=\"Search all the GIFs and Stickers\"\r\n          value={this.state.userInputValue}\r\n          onChange={this.onInputChange}\r\n          onKeyDown={this.onKeyDown}\r\n        />\r\n        <button\r\n          className=\"app__search-button\"\r\n          onClick={this.onSerchButtonClick}\r\n          disabled={this.state.isInputEmpty}\r\n        >\r\n          <span className=\"visually-hidden\">Find</span>\r\n        </button>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(SerchBar);\r\n\r\nSerchBar.propTypes = {\r\n  // from React-Router 4\r\n  match: PropTypes.object,\r\n  history: PropTypes.object,\r\n  location: PropTypes.object\r\n};\r\n","import React, { Component } from \"react\";\r\nimport \"./header.scss\";\r\nimport SearchBar from \"../SearchBar/SearchBar\";\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    return (\r\n      <header className=\"app__header\">\r\n        <a className=\"app__logo-link\" href=\"/#/gifs/trending/\">\r\n          <h2 className=\"app__logo\">GifShow</h2>\r\n        </a>\r\n        <SearchBar />\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./navigation.scss\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { calcNewURL } from \"../../utils/utils\";\r\nimport { TRENDING, RANDOM, FAVORITE } from \"../../constant\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nclass Navigation extends Component {\r\n  onNavButtonClick = evt => {\r\n    const path = evt.target.dataset.path;\r\n    const currentUrl = this.props.history.location.pathname;\r\n    const newURL = calcNewURL(currentUrl, path);\r\n    if (newURL && newURL !== currentUrl) this.props.history.push(newURL);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <nav className=\"app__navigation navigation\">\r\n        <h2 className=\"visually-hidden\">Навигация</h2>\r\n        <button\r\n          className=\"navigation__button navigation__button--trends\"\r\n          data-path={TRENDING}\r\n          onClick={this.onNavButtonClick}\r\n        >\r\n          Popular\r\n        </button>\r\n        <button\r\n          className=\"navigation__button navigation__button--random\"\r\n          data-path={RANDOM}\r\n          onClick={this.onNavButtonClick}\r\n        >\r\n          Random\r\n        </button>\r\n        <button\r\n          className=\"navigation__button navigation__button--favorite\"\r\n          data-path={FAVORITE}\r\n          onClick={this.onNavButtonClick}\r\n        >\r\n          Favorite\r\n        </button>\r\n        <NavLink\r\n          to=\"/about/\"\r\n          className=\"navigation__button navigation__button--about\"\r\n        >\r\n          About\r\n        </NavLink>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Navigation);\r\n\r\nNavigation.propTypes = {\r\n  // from React-Router 4\r\n  match: PropTypes.object,\r\n  history: PropTypes.object,\r\n  location: PropTypes.object\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./option.scss\";\r\nimport { GIFS, STICKERS } from \"../../constant\";\r\nimport { withRouter } from \"react-router\";\r\nimport { calcNewURL } from \"../../utils/utils\";\r\nimport { connect } from \"react-redux\";\r\nimport { setAutoplay } from \"../../ActionCreator/index.js\";\r\n\r\nclass Option extends Component {\r\n  onNavButtonClick = evt => {\r\n    const path = evt.target.dataset.path;\r\n    const currentUrl = this.props.history.location.pathname;\r\n    const newURL = calcNewURL(currentUrl, path);\r\n    if (newURL && newURL !== currentUrl) this.props.history.push(newURL);\r\n  };\r\n\r\n  onRadioButtonChange = evt => {\r\n    const isAutoplay = evt.target.value === `on` ? true : false;\r\n    const { setAutoplay } = this.props;\r\n    setAutoplay(isAutoplay);\r\n  };\r\n\r\n  render() {\r\n    const { isAutoplay } = this.props;\r\n    return (\r\n      <section className=\"app__option option\">\r\n        <h2 className=\"visually-hidden\">Опции</h2>\r\n        <div className=\"option__wrapper option__wrapper--button\">\r\n          <button\r\n            className=\"option__button option__button--sticker\"\r\n            data-path={STICKERS}\r\n            onClick={this.onNavButtonClick}\r\n          >\r\n            Sticker\r\n          </button>\r\n          <button\r\n            className=\"option__button option__button--gif\"\r\n            data-path={GIFS}\r\n            onClick={this.onNavButtonClick}\r\n          >\r\n            Gif\r\n          </button>\r\n        </div>\r\n        <div className=\"option__wrapper option__wrapper--radio\">\r\n          <input\r\n            className=\"option__radio visually-hidden\"\r\n            type=\"radio\"\r\n            name=\"autoplay\"\r\n            value=\"off\"\r\n            id=\"autoplay-off\"\r\n            defaultChecked={!isAutoplay}\r\n            onChange={this.onRadioButtonChange}\r\n          />\r\n          <label\r\n            className=\"option__label option__label--off\"\r\n            htmlFor=\"autoplay-off\"\r\n          >\r\n            <span className=\"visually-hidden\">Off</span>\r\n          </label>\r\n          <input\r\n            className=\"option__radio visually-hidden\"\r\n            type=\"radio\"\r\n            name=\"autoplay\"\r\n            value=\"on\"\r\n            id=\"autoplay-on\"\r\n            defaultChecked={isAutoplay}\r\n            onChange={this.onRadioButtonChange}\r\n          />\r\n          <label\r\n            className=\"option__label option__label--on\"\r\n            htmlFor=\"autoplay-on\"\r\n          >\r\n            <span className=\"visually-hidden\">On</span>\r\n          </label>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return { isAutoplay: store.isAutoplay };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { setAutoplay }\r\n)(withRouter(Option));\r\n\r\nOption.propTypes = {\r\n  // from React-Router 4\r\n  match: PropTypes.object,\r\n  history: PropTypes.object,\r\n  location: PropTypes.object,\r\n  // from Connect\r\n  isAutoplay: PropTypes.bool,\r\n  setAutoplay: PropTypes.func\r\n};\r\n","import {\r\n  SET_AUTOPLAY,\r\n  LOAD_DATA,\r\n  CHANGE_GALLERY_ITEM,\r\n  CLOSE_GALLERY,\r\n  LOAD_FAVORITE,\r\n  DELETE_FROM_FAVORITE,\r\n  ADD_TO_FAVORITE\r\n} from \"../constant\";\r\n\r\nexport const setAutoplay = function(isAutoplay) {\r\n  return {\r\n    type: SET_AUTOPLAY,\r\n    payload: { isAutoplay }\r\n  };\r\n};\r\n\r\nexport const loadData = function(request) {\r\n  return {\r\n    type: LOAD_DATA,\r\n    payload: request\r\n  };\r\n};\r\n\r\nexport const changeGalleryItem = function(itemUrl, itemType, itemData) {\r\n  return {\r\n    type: CHANGE_GALLERY_ITEM,\r\n    payload: { itemUrl, itemType, itemData }\r\n  };\r\n};\r\n\r\nexport const closeGallery = function() {\r\n  return {\r\n    type: CLOSE_GALLERY\r\n  };\r\n};\r\n\r\nexport const getFavorite = function(request) {\r\n  return {\r\n    type: LOAD_FAVORITE,\r\n    payload: request\r\n  };\r\n};\r\n\r\nexport const deleteItemFromFavorite = function(data, itemType) {\r\n  return {\r\n    type: DELETE_FROM_FAVORITE,\r\n    payload: { data, itemType }\r\n  };\r\n};\r\n\r\nexport const addItemToFavorite = function(data, itemType) {\r\n  return {\r\n    type: ADD_TO_FAVORITE,\r\n    payload: { data, itemType }\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./loadBar.scss\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass LoadBar extends Component {\r\n  getBody = () => {\r\n    const { isLoading } = this.props;\r\n    if (isLoading) {\r\n      return (\r\n        <span className=\"loader\">\r\n          <span className=\"loader-inner\" />\r\n        </span>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  render() {\r\n    const { isLoading } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={`catalogue__loader-wrapper ${\r\n          !isLoading ? `catalogue__loader--closed` : ``\r\n        }`}\r\n      >\r\n        {this.getBody()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    isLoading: store.loadStatus.isLoading\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(LoadBar);\r\n\r\nLoadBar.propTypes = {\r\n  isLoading: PropTypes.bool\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./controls.scss\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport Option from \"../Option/Option\";\r\nimport LoadBar from \"../LoadBar/LoadBar\";\r\nimport { NUMBER_OF_COLUMNS } from \"../../constant\";\r\n\r\nclass Controls extends Component {\r\n  state = {\r\n    isMenuOpen: true\r\n  };\r\n\r\n  changeMenuStatus = () => {\r\n    this.setState({ isMenuOpen: !this.state.isMenuOpen });\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.numberOfColumns < NUMBER_OF_COLUMNS.FOUR) {\r\n      this.setState({ isMenuOpen: false });\r\n    } else {\r\n      this.setState({ isMenuOpen: true });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isMenuOpen } = this.state;\r\n    return (\r\n      <section className=\"app__controls controls\">\r\n        <h2 className=\"visually-hidden\">Controls</h2>\r\n        <div className=\"controls__toggle-wrapper\">\r\n          <button\r\n            className={`controls__toggle ${\r\n              isMenuOpen ? \"controls__toggle--close\" : \"controls__toggle--open\"\r\n            }`}\r\n            onClick={this.changeMenuStatus}\r\n          >\r\n            <span className=\"visually-hidden\">Toggle Menu</span>\r\n          </button>\r\n          <p className=\"controls__text\">Menu</p>\r\n        </div>\r\n        {isMenuOpen ? <Navigation /> : null}\r\n        {isMenuOpen ? <Option /> : null}\r\n        <LoadBar />\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Controls;\r\n\r\nControls.propTypes = {\r\n  numberOfColumns: PropTypes.oneOf([1, 2, 3, 4])\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./item.scss\";\r\nimport { ID, ENTER_KEY_NAME } from \"../../constant\";\r\n\r\nclass Item extends Component {\r\n  state = {\r\n    isMouseOnItem: false\r\n  };\r\n\r\n  onUserClick = () => {\r\n    const { itemData, id, itemType } = this.props;\r\n    const currentItemType = itemType.itemType;\r\n    const itemUrl = `/${currentItemType}/${ID}/${id}`;\r\n    const dataForGallery = { ...itemData };\r\n    this.props.onUserClick(itemUrl, currentItemType, dataForGallery);\r\n  };\r\n\r\n  onMouseEnter = () => {\r\n    this.setState({ isMouseOnItem: true });\r\n  };\r\n\r\n  onMouseLeave = () => {\r\n    this.setState({ isMouseOnItem: false });\r\n  };\r\n\r\n  onKeyPress = event => {\r\n    if (event.key === ENTER_KEY_NAME) {\r\n      this.onUserClick();\r\n    }\r\n  };\r\n\r\n  shouldComponentUpdate(nextProps, nextState, nextContent) {\r\n    if (this.props.itemType) {\r\n      if (this.props.id === nextProps.id) {\r\n        if (this.props.isAutoplay === nextProps.isAutoplay) {\r\n          if (this.state.isMouseOnItem === nextState.isMouseOnItem) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      return true;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { itemData, id, position, isAutoplay } = this.props;\r\n    const top = position.top + `px`;\r\n    const left = position.left + `px`;\r\n    const title = itemData.title;\r\n    const imageWidth = itemData.images.fixed_width.width + `px`;\r\n    const imageHeight = itemData.images.fixed_width.height + `px`;\r\n    let src;\r\n\r\n    if (isAutoplay) {\r\n      src = itemData.images.fixed_width;\r\n    } else {\r\n      src = this.state.isMouseOnItem\r\n        ? itemData.images.fixed_width\r\n        : itemData.images.fixed_width_still;\r\n    }\r\n\r\n    return (\r\n      <article\r\n        className={`app__item app__item--${id} item`}\r\n        style={{ top: top, left: left }}\r\n        tabIndex=\"0\"\r\n        onKeyPress={this.onKeyPress}\r\n      >\r\n        <h2 className=\"item__title visually-hidden\">{title}</h2>\r\n        <div\r\n          className=\"item__image-wrapper\"\r\n          onClick={this.onUserClick}\r\n          onMouseEnter={isAutoplay ? null : this.onMouseEnter}\r\n          onMouseLeave={isAutoplay ? null : this.onMouseLeave}\r\n        >\r\n          <img\r\n            className=\"item__image\"\r\n            src={src.url}\r\n            alt={title}\r\n            style={{ width: imageWidth, height: imageHeight }}\r\n          />\r\n        </div>\r\n      </article>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Item;\r\n\r\nItem.propTypes = {\r\n  // from ItemList\r\n  itemType: PropTypes.object,\r\n  itemData: PropTypes.object,\r\n  id: PropTypes.string,\r\n  onUserClick: PropTypes.func,\r\n  isAutoplay: PropTypes.bool,\r\n  position: PropTypes.object\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./requestStatusBar.scss\";\r\nimport { TRENDING, RANDOM, SEARCH, ID, FAVORITE } from \"../../constant\";\r\n\r\nclass RequestStatusBar extends Component {\r\n  getStatus = (request, itemsAmount) => {\r\n    const { itemType, actionType, payload } = request;\r\n    switch (actionType) {\r\n      case TRENDING: {\r\n        return {\r\n          request: `${actionType} ${itemType}`,\r\n          amount: `${itemsAmount}`\r\n        };\r\n      }\r\n      case SEARCH: {\r\n        return {\r\n          request: `${actionType} \"${payload.replace(/\\+/g, ` `)}\" ${itemType}`,\r\n          amount: `${itemsAmount}`\r\n        };\r\n      }\r\n      case RANDOM: {\r\n        return {\r\n          request: `${actionType} ${\r\n            itemsAmount > 1 ? itemType : itemType.slice(0, -1)\r\n          }`,\r\n          amount: `${itemsAmount}`\r\n        };\r\n      }\r\n      case ID: {\r\n        return {\r\n          request: `${itemType.slice(0, -1)} by ${actionType}`,\r\n          amount: `${itemsAmount}`\r\n        };\r\n      }\r\n      case FAVORITE: {\r\n        return {\r\n          request: `${actionType} ${itemType}`,\r\n          amount: `${itemsAmount}`\r\n        };\r\n      }\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  getStatusBody = () => {\r\n    const { request, itemsAmount, isError, errorMessage } = this.props;\r\n    if (isError) {\r\n      return (\r\n        <span className=\"catalogue__message--error\">{`An error has occurred. Try again later. Error:  ${errorMessage}`}</span>\r\n      );\r\n    } else {\r\n      if (request) {\r\n        const status = this.getStatus(request, itemsAmount);\r\n        return (\r\n          <React.Fragment>\r\n            <span className=\"catalogue__message--request\">\r\n              {status.request}\r\n            </span>\r\n            <span className=\"catalogue__message--amount\">{`Amount: ${\r\n              status.amount\r\n            }`}</span>\r\n          </React.Fragment>\r\n        );\r\n      } else {\r\n        return (\r\n          <span className=\"catalogue__message--request\">Processing.......</span>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"catalogue__status-wrapper\">\r\n        <p className=\"catalogue__status\">{this.getStatusBody()}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    isError: store.loadStatus.isError,\r\n    errorMessage: store.loadStatus.errorMessage\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(RequestStatusBar);\r\n\r\nRequestStatusBar.propTypes = {\r\n  // from ItemList\r\n  request: PropTypes.object,\r\n  itemsAmount: PropTypes.number,\r\n  // from Connect\r\n  isError: PropTypes.bool,\r\n  errorMessage: PropTypes.string\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./itemlist.scss\";\r\nimport Item from \"../Item/Item\";\r\nimport RequestStatusBar from \"../RequestStatusBar/RequestStatusBar\";\r\nimport { connect } from \"react-redux\";\r\nimport { createRequestFromURL, calcItemPosition } from \"../../utils/utils\";\r\nimport {\r\n  loadData,\r\n  changeGalleryItem,\r\n  getFavorite\r\n} from \"../../ActionCreator/index\";\r\nimport {\r\n  DISTANCE_BETWEEN_ITEM,\r\n  COLUMN_POSITION,\r\n  FAVORITE,\r\n  MAX_COLUMNS_NUMBER,\r\n  INCREASE_OFFSET_VALUE\r\n} from \"../../constant\";\r\n\r\nclass ItemList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.fullColumnHeight = new Array(MAX_COLUMNS_NUMBER).fill(0);\r\n    this.offset = this.props.offset;\r\n    this.isEmpty = true;\r\n  }\r\n  componentDidMount() {\r\n    this.getData(this.props.url, this.props.offset);\r\n    this.isEmpty = false;\r\n  }\r\n\r\n  getData = (url, offset) => {\r\n    const request = createRequestFromURL(url, offset);\r\n    this.userRequest = request;\r\n    if (request.actionType !== FAVORITE) {\r\n      this.props.loadData(request);\r\n    } else {\r\n      this.props.getFavorite(request);\r\n    }\r\n  };\r\n\r\n  getBody = (data, isAutoplay) => {\r\n    if (this.isEmpty) {\r\n      return null;\r\n    }\r\n    const { numberOfColumns } = this.props;\r\n    let body = [];\r\n    let columnHeight = new Array(numberOfColumns).fill(0);\r\n    let columnPosition = COLUMN_POSITION[`${numberOfColumns}`].slice();\r\n    let col = 0;\r\n    let row = 0;\r\n    this.fullColumnHeight = this.fullColumnHeight.fill(0);\r\n\r\n    for (const key in data) {\r\n      body.push(\r\n        <Item\r\n          itemType={this.userRequest}\r\n          itemData={data[key]}\r\n          id={key}\r\n          key={key}\r\n          onUserClick={this.props.changeGalleryItem}\r\n          isAutoplay={isAutoplay}\r\n          position={calcItemPosition(\r\n            columnHeight[col],\r\n            columnPosition[col],\r\n            row,\r\n            col\r\n          )}\r\n        />\r\n      );\r\n\r\n      this.fullColumnHeight[col] =\r\n        this.fullColumnHeight[col] +\r\n        +data[key].images.fixed_width.height +\r\n        DISTANCE_BETWEEN_ITEM;\r\n\r\n      columnHeight[col] =\r\n        columnHeight[col] + +data[key].images.fixed_width.height;\r\n\r\n      if (col === numberOfColumns - 1) {\r\n        col = 0;\r\n        row++;\r\n      } else {\r\n        col++;\r\n      }\r\n    }\r\n\r\n    return body;\r\n  };\r\n\r\n  getButtonTopPosition() {\r\n    let newArry = this.fullColumnHeight.slice();\r\n    newArry.sort((a, b) => {\r\n      if (a > b) return 1;\r\n      if (a < b) return -1;\r\n      return 0;\r\n    });\r\n\r\n    return `${newArry[newArry.length - 1] + DISTANCE_BETWEEN_ITEM}px`;\r\n  }\r\n\r\n  getItemsAmount = (data, itemTotalCount) => {\r\n    if (itemTotalCount === 1) {\r\n      let counter = 0;\r\n      for (let key in data) {\r\n        counter++;\r\n      }\r\n      return counter;\r\n    } else {\r\n      return itemTotalCount;\r\n    }\r\n  };\r\n\r\n  increaseOffset = () => {\r\n    this.offset += INCREASE_OFFSET_VALUE;\r\n    this.getData(this.props.url, this.offset);\r\n  };\r\n\r\n  render() {\r\n    const { isAutoplay, data } = this.props;\r\n    const { currentData, itemTotalCount } = data;\r\n    const itemsAmount = this.getItemsAmount(currentData, itemTotalCount);\r\n\r\n    return (\r\n      <section className=\"app__item-list catalogue\">\r\n        <h2 className=\"visually-hidden\">Каталог</h2>\r\n        <RequestStatusBar\r\n          request={this.userRequest}\r\n          itemsAmount={itemsAmount}\r\n        />\r\n        <div className=\"catalogue__wrapper\">\r\n          {this.getBody(currentData, isAutoplay)}\r\n          <div\r\n            className=\"catalogue__button-wrapper\"\r\n            style={{ top: this.getButtonTopPosition() }}\r\n          >\r\n            <button\r\n              className=\"catalogue__button catalogue__button--more\"\r\n              onClick={this.increaseOffset}\r\n            >\r\n              More\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    isAutoplay: store.isAutoplay,\r\n    data: store.data\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    loadData: request => {\r\n      dispatch(loadData(request));\r\n    },\r\n    changeGalleryItem: (itemUrl, itemType, itemData) => {\r\n      dispatch(changeGalleryItem(itemUrl, itemType, itemData));\r\n    },\r\n    getFavorite: request => {\r\n      dispatch(getFavorite(request));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ItemList);\r\n\r\nItemList.propTypes = {\r\n  // from Connect\r\n  isAutoplay: PropTypes.bool,\r\n  data: PropTypes.object,\r\n  loadData: PropTypes.func,\r\n  changeGalleryItem: PropTypes.func,\r\n  getFavorite: PropTypes.func,\r\n  // from Content\r\n  url: PropTypes.string,\r\n  offset: PropTypes.number,\r\n  numberOfColumns: PropTypes.oneOf([1, 2, 3, 4])\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./galleryControls.scss\";\r\nimport { ORIGINAL, SMALL, STICKERS } from \"../../constant\";\r\n\r\nclass GalleryControls extends Component {\r\n  onSelectChange = event => {\r\n    this.props.changeImageSize(event.target.value);\r\n  };\r\n\r\n  onCopyButtonClick = event => {\r\n    this.props.onCopyButtonClick();\r\n  };\r\n\r\n  onFavoriteButtonClick = event => {\r\n    const { isItemFavorite } = this.props;\r\n    this.props.onFavoriteButtonClick(isItemFavorite);\r\n  };\r\n\r\n  isCopyButtonDisabled = () => {\r\n    const { itemType, isCopyBarOpen } = this.props;\r\n    if (itemType === STICKERS || isCopyBarOpen) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { sizeValue, onCloseButtonClick, isItemFavorite, style } = this.props;\r\n\r\n    return (\r\n      <section className=\"gallery__controls\" style={style}>\r\n        <div className=\"gallery__controls-wrapper\">\r\n          <select\r\n            className=\"gallery__size-select\"\r\n            name=\"size\"\r\n            value={sizeValue}\r\n            onChange={this.onSelectChange}\r\n          >\r\n            <option className=\"gallery__size-option\" value={ORIGINAL}>\r\n              Original\r\n            </option>\r\n            <option className=\"gallery__size-option\" value={SMALL}>\r\n              Small\r\n            </option>\r\n          </select>\r\n          <div className=\"gallery__controls-inner\">\r\n            <button\r\n              className=\"gallery__button gallery__button--favorite\"\r\n              onClick={this.onFavoriteButtonClick}\r\n            >\r\n              <span\r\n                className={`gallery__icon gallery__icon--heart ${\r\n                  isItemFavorite ? \"gallery__icon--favorite\" : null\r\n                }`}\r\n              />\r\n              <span className=\"gallery__name gallery__name--favorite\">\r\n                Favorite\r\n              </span>\r\n            </button>\r\n            <button\r\n              className=\"gallery__button gallery__button--copy\"\r\n              disabled={this.isCopyButtonDisabled()}\r\n              onClick={this.onCopyButtonClick}\r\n            >\r\n              <span>{`${String.fromCharCode(9729)} Copy`}</span>\r\n            </button>\r\n          </div>\r\n          <button\r\n            className=\"gallery__button gallery__button--close\"\r\n            onClick={onCloseButtonClick}\r\n          >\r\n            <span>{`X `}</span>\r\n            <span className=\"gallery__name gallery__name--close\">{`Close`}</span>\r\n          </button>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GalleryControls;\r\n\r\nGalleryControls.propTypes = {\r\n  // from ItemGallery\r\n  changeImageSize: PropTypes.func,\r\n  itemUrl: PropTypes.string,\r\n  itemType: PropTypes.string,\r\n  sizeValue: PropTypes.string,\r\n  onCloseButtonClick: PropTypes.func,\r\n  onCopyButtonClick: PropTypes.func,\r\n  onFavoriteButtonClick: PropTypes.func,\r\n  isCopyBarOpen: PropTypes.bool,\r\n  isItemFavorite: PropTypes.bool,\r\n  style: PropTypes.object\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./galleryCopyBar.scss\";\r\n\r\nclass GalleryCopyBar extends Component {\r\n  onInputClick = event => {\r\n    event.target.select();\r\n  };\r\n\r\n  onCloseButtonClick = event => {\r\n    this.props.onCloseButtonClick();\r\n  };\r\n\r\n  render() {\r\n    const { isCopyBarOpen, itemLink } = this.props;\r\n    if (isCopyBarOpen) {\r\n      return (\r\n        <section className=\"gallery__copy-bar copyBar\">\r\n          <h2 className=\"visually-hidden\">Copy Bar</h2>\r\n          <div className=\"copyBar__inner\">\r\n            <label className=\"copyBar__label\" htmlFor=\"copy\">\r\n              Link\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"copy\"\r\n              className=\"copyBar__input\"\r\n              defaultValue={itemLink}\r\n              onClick={this.onInputClick}\r\n            />\r\n          </div>\r\n          <button\r\n            className=\"copyBar__button copyBar__button--close\"\r\n            onClick={this.onCloseButtonClick}\r\n          >\r\n            <span>X </span>\r\n            <span className=\"visually-hidden\">Close Copy Bar</span>\r\n          </button>\r\n        </section>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default GalleryCopyBar;\r\n\r\nGalleryCopyBar.propTypes = {\r\n  //from ItemGallery\r\n  isCopyBarOpen: PropTypes.bool,\r\n  itemLink: PropTypes.string,\r\n  onCloseButtonClick: PropTypes.func\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./itemGallery.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport GalleryControls from \"../GalleryControls/GalleryControls\";\r\nimport GalleryCopyBar from \"../GalleryCopyBar/GalleryCopyBar\";\r\nimport {\r\n  closeGallery,\r\n  deleteItemFromFavorite,\r\n  addItemToFavorite\r\n} from \"../../ActionCreator/index\";\r\nimport { ORIGINAL, ESC_KEY_NAME, GIFSHOW_HOST } from \"../../constant\";\r\nimport { calcGalleryTagStyle, includeFavoriteItemId } from \"../../utils/utils\";\r\n\r\nclass ItemGallery extends Component {\r\n  state = {\r\n    imageSize: ORIGINAL,\r\n    isCopyBarOpen: false\r\n  };\r\n\r\n  changeImageSize = size => {\r\n    this.setState({ imageSize: size });\r\n  };\r\n\r\n  getImageSrc = () => {\r\n    const { data } = this.props;\r\n    if (this.state.imageSize === ORIGINAL) {\r\n      return data.images.original.url;\r\n    } else {\r\n      return data.images.fixed_width.url;\r\n    }\r\n  };\r\n\r\n  onKeyDown = evt => {\r\n    if (evt.key === ESC_KEY_NAME) {\r\n      this.props.onCloseButtonClick();\r\n    }\r\n  };\r\n\r\n  changeItemStatus = isItemFavorite => {\r\n    const data = this.props.data;\r\n    const itemType = this.props.itemType;\r\n    this.props.changeItemStatus(isItemFavorite, data, itemType);\r\n  };\r\n\r\n  showCopyBar = () => {\r\n    this.setState({ isCopyBarOpen: true });\r\n  };\r\n\r\n  hideCopyBar = () => {\r\n    this.setState({ isCopyBarOpen: false });\r\n  };\r\n\r\n  learnIsItemFavorite = () => {\r\n    const { data, favorite, itemType } = this.props;\r\n    return includeFavoriteItemId(data.id, itemType, favorite);\r\n  };\r\n\r\n  getBody = () => {\r\n    const {\r\n      isOpen,\r\n      itemType,\r\n      url,\r\n      data,\r\n      onCloseButtonClick,\r\n      numberOfColumns\r\n    } = this.props;\r\n    let body;\r\n\r\n    if (isOpen) {\r\n      const itemLink = `${GIFSHOW_HOST + url}`;\r\n      const imageSizeType = this.state.imageSize;\r\n\r\n      const tagStyle = calcGalleryTagStyle(\r\n        data,\r\n        imageSizeType,\r\n        numberOfColumns\r\n      );\r\n\r\n      body = (\r\n        <section\r\n          className=\"app__gallery gallery\"\r\n          style={tagStyle.gallery}\r\n          tabIndex=\"0\"\r\n          ref={gallery => {\r\n            gallery && gallery.focus();\r\n          }}\r\n          onKeyDown={this.onKeyDown}\r\n        >\r\n          <h2 className=\"gallery__title visually-hidden\">{data.title}</h2>\r\n          <div className=\"gallery__inner\" style={tagStyle.inner}>\r\n            <div className=\"gallery__screen\" style={tagStyle.screen}>\r\n              <GalleryCopyBar\r\n                itemLink={itemLink}\r\n                isCopyBarOpen={this.state.isCopyBarOpen}\r\n                onCloseButtonClick={this.hideCopyBar}\r\n              />\r\n              <div className=\"gallery__image-wrapper\" style={tagStyle.image}>\r\n                <img\r\n                  className=\"gallery__image\"\r\n                  src={this.getImageSrc()}\r\n                  alt={data.title}\r\n                  style={tagStyle.image}\r\n                />\r\n              </div>\r\n            </div>\r\n            <GalleryControls\r\n              changeImageSize={this.changeImageSize}\r\n              itemUrl={url}\r\n              itemType={itemType}\r\n              sizeValue={this.state.imageSize}\r\n              onCloseButtonClick={onCloseButtonClick}\r\n              onCopyButtonClick={this.showCopyBar}\r\n              onFavoriteButtonClick={this.changeItemStatus}\r\n              isCopyBarOpen={this.state.isCopyBarOpen}\r\n              isItemFavorite={this.learnIsItemFavorite()}\r\n              style={tagStyle.controls}\r\n            />\r\n          </div>\r\n        </section>\r\n      );\r\n    } else {\r\n      body = null;\r\n    }\r\n    return body;\r\n  };\r\n\r\n  render() {\r\n    return this.getBody();\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    url: store.gallery.itemUrl,\r\n    data: store.gallery.itemData,\r\n    isOpen: store.gallery.isGalleryOpen,\r\n    itemType: store.gallery.itemType,\r\n    favorite: store.favorite\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onCloseButtonClick: () => {\r\n      dispatch(closeGallery());\r\n    },\r\n    changeItemStatus: (isItemFavorite, data, itemType) => {\r\n      if (isItemFavorite) {\r\n        dispatch(deleteItemFromFavorite(data, itemType));\r\n      } else {\r\n        dispatch(addItemToFavorite(data, itemType));\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ItemGallery);\r\n\r\nItemGallery.propTypes = {\r\n  // from Connect\r\n  url: PropTypes.string,\r\n  data: PropTypes.object,\r\n  isOpen: PropTypes.bool,\r\n  itemType: PropTypes.string,\r\n  favorite: PropTypes.object,\r\n  onCloseButtonClick: PropTypes.func,\r\n  changeItemStatus: PropTypes.func,\r\n  //from Contant\r\n  numberOfColumns: PropTypes.oneOf([1, 2, 3, 4])\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./content.scss\";\r\nimport ItemList from \"../ItemList/ItemList\";\r\nimport ItemGallery from \"../ItemGallery/ItemGallery\";\r\nimport { DEFAULT_OFFSET_VALUE } from \"../../constant\";\r\n\r\nclass Content extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.offset = DEFAULT_OFFSET_VALUE;\r\n  }\r\n\r\n  render() {\r\n    const url = this.props.match.url;\r\n    const numberOfColumns = this.props.numberOfColumns;\r\n\r\n    return (\r\n      <div className=\"app__item-wrapper\">\r\n        <ItemGallery numberOfColumns={numberOfColumns} />\r\n        <ItemList\r\n          url={url}\r\n          offset={this.offset}\r\n          numberOfColumns={numberOfColumns}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Content;\r\n\r\nContent.propTypes = {\r\n  // from React-Router 4\r\n  match: PropTypes.object,\r\n  history: PropTypes.object,\r\n  location: PropTypes.object,\r\n  // from App\r\n  numberOfColumns: PropTypes.oneOf([1, 2, 3, 4])\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./notFound.scss\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { HOME_PAGE } from \"../../constant\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nclass NotFound extends Component {\r\n  render() {\r\n    return (\r\n      <section className=\"app__404 page404\">\r\n        <h2 className=\"visually-hidden\">Page not found</h2>\r\n        <p className=\"page404__message\">\r\n          <span className=\"page404__number\">404</span>\r\n          <br />\r\n          <span className=\"page404__text\">Page Not Found</span>\r\n        </p>\r\n        <NavLink to={HOME_PAGE} className=\"page404__button\">\r\n          Home\r\n        </NavLink>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(NotFound);\r\n\r\nNotFound.propTypes = {\r\n  // from React-Router 4\r\n  match: PropTypes.object,\r\n  history: PropTypes.object,\r\n  location: PropTypes.object\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Content from \"../Content/Content\";\r\nimport NotFound from \"../NotFound/NotFound\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { TRENDING, SEARCH, ID, FAVORITE, RANDOM } from \"../../constant\";\r\n\r\nclass Container extends Component {\r\n  render() {\r\n    const { path } = this.props.match;\r\n\r\n    const { numberOfColumns } = this.props;\r\n\r\n    const WrappedContent = function(props) {\r\n      return <Content {...props} numberOfColumns={numberOfColumns} />;\r\n    };\r\n\r\n    return (\r\n      <Switch>\r\n        <Route path={`${path + TRENDING}/`} component={WrappedContent} />\r\n        <Route path={`${path + SEARCH}/:type`} component={WrappedContent} />\r\n        <Route path={`${path + ID}/:id`} component={WrappedContent} />\r\n        <Route path={`${path + RANDOM}/`} component={WrappedContent} />\r\n        <Route path={`${path + FAVORITE}/`} component={WrappedContent} />\r\n        <Route path=\"/\" component={NotFound} />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Container;\r\n\r\nContainer.propTypes = {\r\n  // from React-Router 4\r\n  match: PropTypes.object,\r\n  history: PropTypes.object,\r\n  location: PropTypes.object,\r\n  // from App\r\n  numberOfColumns: PropTypes.oneOf([1, 2, 3, 4])\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Container from \"../routes/Container\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\n\r\nimport { GIFS, STICKERS, TRENDING } from \"../../constant\";\r\n\r\nclass ContainerType extends Component {\r\n  render() {\r\n    const { numberOfColumns } = this.props;\r\n\r\n    const WrappedContainer = function(props) {\r\n      return <Container {...props} numberOfColumns={numberOfColumns} />;\r\n    };\r\n\r\n    return (\r\n      <Switch>\r\n        <Route path={`/${GIFS}/`} component={WrappedContainer} />\r\n        <Route path={`/${STICKERS}/`} component={WrappedContainer} />\r\n        <Redirect from=\"*\" to={`/${GIFS}/${TRENDING}/`} />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContainerType;\r\n\r\nContainerType.propTypes = {\r\n  // from React-Router 4\r\n  match: PropTypes.object,\r\n  history: PropTypes.object,\r\n  location: PropTypes.object,\r\n  // from App\r\n  numberOfColumns: PropTypes.oneOf([1, 2, 3, 4])\r\n};\r\n","import React, { Component } from \"react\";\r\nimport \"./iconGithub.scss\";\r\n\r\nclass IconGithub extends Component {\r\n  render() {\r\n    const { iconWidth, iconHeight, iconColor } = this.props;\r\n    const iconStyle = {\r\n      width: iconWidth,\r\n      height: iconHeight\r\n    };\r\n\r\n    return (\r\n      <div className=\"contacts__icon contacts__icon--github\" style={iconStyle}>\r\n        <svg\r\n          className=\"github\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"8 8 35 35\"\r\n          enableBackground=\"new 0 0 50 50\"\r\n        >\r\n          <path\r\n            className=\"github__path\"\r\n            fillRule=\"evenodd\"\r\n            clipRule=\"evenodd\"\r\n            fill={iconColor}\r\n            d=\"M25 10c-8.3 0-15 6.7-15 15 0 6.6 4.3 12.2 10.3 14.2.8.1 1-.3 1-.7v-2.6c-4.2.9-5.1-2-5.1-2-.7-1.7-1.7-2.2-1.7-2.2-1.4-.9.1-.9.1-.9 1.5.1 2.3 1.5 2.3 1.5 1.3 2.3 3.5 1.6 4.4 1.2.1-1 .5-1.6 1-2-3.3-.4-6.8-1.7-6.8-7.4 0-1.6.6-3 1.5-4-.2-.4-.7-1.9.1-4 0 0 1.3-.4 4.1 1.5 1.2-.3 2.5-.5 3.8-.5 1.3 0 2.6.2 3.8.5 2.9-1.9 4.1-1.5 4.1-1.5.8 2.1.3 3.6.1 4 1 1 1.5 2.4 1.5 4 0 5.8-3.5 7-6.8 7.4.5.5 1 1.4 1 2.8v4.1c0 .4.3.9 1 .7 6-2 10.2-7.6 10.2-14.2C40 16.7 33.3 10 25 10z\"\r\n          />\r\n        </svg>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default IconGithub;\r\n","import React, { Component } from \"react\";\r\nimport \"./iconMail.scss\";\r\n\r\nclass IconMail extends Component {\r\n  render() {\r\n    const { iconWidth, iconHeight, iconColor } = this.props;\r\n    const iconStyle = {\r\n      width: iconWidth,\r\n      height: iconHeight\r\n    };\r\n\r\n    return (\r\n      <div className=\"contacts__icon contacts__icon--mail\" style={iconStyle}>\r\n        <svg\r\n          className=\"mail\"\r\n          version=\"1.1\"\r\n          id=\"Capa_1\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          xlink=\"http://www.w3.org/1999/xlink\"\r\n          x=\"0px\"\r\n          y=\"0px\"\r\n          viewBox=\"0 0 493.497 493.497\"\r\n          enableBackground=\"new 0 0 493.497 493.497\"\r\n          space=\"preserve\"\r\n        >\r\n          <path\r\n            className=\"mail__path\"\r\n            fill={iconColor}\r\n            d=\"M444.556,85.218H48.942C21.954,85.218,0,107.171,0,134.16v225.177c0,26.988,21.954,48.942,48.942,48.942h395.613\r\n\tc26.988,0,48.941-21.954,48.941-48.942V134.16C493.497,107.171,471.544,85.218,444.556,85.218z M460.87,134.16v225.177\r\n\tc0,2.574-0.725,4.924-1.793,7.09L343.74,251.081l117.097-117.097C460.837,134.049,460.87,134.096,460.87,134.16z M32.628,359.336\r\n\tV134.16c0-0.064,0.033-0.11,0.033-0.175l117.097,117.097L34.413,366.426C33.353,364.26,32.628,361.911,32.628,359.336z\r\n\t M251.784,296.902c-2.692,2.691-7.378,2.691-10.07,0L62.667,117.846h368.172L251.784,296.902z M172.827,274.152l45.818,45.819\r\n\tc7.512,7.511,17.493,11.645,28.104,11.645c10.61,0,20.592-4.134,28.104-11.645l45.82-45.819l101.49,101.499H71.327L172.827,274.152z\r\n\t\"\r\n          />\r\n          <g />\r\n          <g />\r\n          <g />\r\n          <g />\r\n          <g />\r\n          <g />\r\n          <g />\r\n          <g />\r\n          <g />\r\n          <g />\r\n          <g />\r\n          <g />\r\n          <g />\r\n          <g />\r\n          <g />\r\n        </svg>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default IconMail;\r\n","import React, { Component } from \"react\";\r\nimport \"./iconSkype.scss\";\r\n\r\nclass IconSkype extends Component {\r\n  render() {\r\n    const { iconWidth, iconHeight, iconColor } = this.props;\r\n    const iconStyle = {\r\n      width: iconWidth,\r\n      height: iconHeight\r\n    };\r\n\r\n    return (\r\n      <div className=\"contacts__icon contacts__icon--skype\" style={iconStyle}>\r\n        <svg\r\n          className=\"skype\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 30 30\"\r\n        >\r\n          <path\r\n            className=\"skype__path\"\r\n            fill={iconColor}\r\n            d=\"M26.884,16.579C26.953,16.061,27,15.536,27,15c0-6.627-5.373-12-12-12c-0.536,0-1.061,0.047-1.579,0.116 C12.279,2.413,10.939,2,9.5,2C5.358,2,2,5.358,2,9.5c0,1.439,0.413,2.779,1.116,3.921C3.047,13.939,3,14.464,3,15 c0,6.627,5.373,12,12,12c0.536,0,1.061-0.047,1.579-0.116C17.721,27.587,19.061,28,20.5,28c4.142,0,7.5-3.358,7.5-7.5 C28,19.061,27.587,17.721,26.884,16.579z M15.149,22c-3.896,0-6.133-2.042-6.133-4.046c0-1.022,1.07-1.349,1.498-1.349 c0.989,0,1.318,0.807,1.498,1.177c1.005,2.066,1.971,1.794,2.923,1.884c0.841,0.079,2.815-0.292,2.815-1.734 c0-0.138,0.217-1.076-1.487-1.541c-1.089-0.298-3.009-0.663-4.589-1.271c-1.486-0.572-2.358-1.75-2.358-3.268 C9.316,11.093,9.705,8,14.967,8c3.512,0,5.384,1.799,5.384,3.382c0,0.364-0.139,0.685-0.418,0.974 c-0.279,0.289-1.065,0.712-1.926,0.161c-0.217-0.139-0.396-0.428-0.61-0.803c-0.258-0.471-0.68-1.381-2.623-1.381 c-1.885,0-2.408,0.899-2.408,1.274c0,1.26,2.405,1.525,3.051,1.692c2.358,0.608,5.566,1.167,5.566,4.346 C20.983,21.295,17.185,22,15.149,22z\"\r\n          />\r\n        </svg>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default IconSkype;\r\n","import React, { Component } from \"react\";\r\nimport \"./authorContacts.scss\";\r\nimport IconGithub from \"../IconGithub/IconGithub\";\r\nimport IconMail from \"../IconMail/IconMail\";\r\nimport IconSkype from \"../IconSkype/IconSkype\";\r\n\r\nclass AuthorContacts extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.extraWidth = 30;\r\n    this.contactsIconAmount = 3;\r\n    this.contactsIconWidth = 40;\r\n    this.contactsIconHeight = 40;\r\n    this.contactsListWidth =\r\n      this.contactsIconWidth * this.contactsIconAmount + this.extraWidth;\r\n    this.iconColor = `#bac5d0`;\r\n  }\r\n  render() {\r\n    const listStyle = { width: this.contactsListWidth };\r\n    return (\r\n      <div className=\"contacts\">\r\n        <ul className=\"contacts__list\" style={listStyle}>\r\n          <li className=\"contacts__item contacts__item--github\">\r\n            <a\r\n              className=\"contacts__link contacts__link--github\"\r\n              href=\"https://github.com/My420\"\r\n              title=\"GitHub profile\"\r\n            >\r\n              <IconGithub\r\n                iconWidth={this.contactsIconWidth}\r\n                iconHeight={this.contactsIconHeight}\r\n                iconColor={this.iconColor}\r\n              />\r\n            </a>\r\n          </li>\r\n          <li className=\"contacts__item contacts__item--mail\">\r\n            <a\r\n              className=\"contacts__link contacts__link--mail\"\r\n              href=\"mailto:klinovitsky.aleksey@gmail.com\"\r\n              title=\"Mail Address\"\r\n            >\r\n              <IconMail\r\n                iconWidth={this.contactsIconWidth}\r\n                iconHeight={this.contactsIconHeight}\r\n                iconColor={this.iconColor}\r\n              />\r\n            </a>\r\n          </li>\r\n          <li className=\"contacts__item contacts__item--skype\">\r\n            <a\r\n              className=\"contacts__link contacts__link--skype\"\r\n              href=\"skype:live:klinovitsky.aleksey?chat\"\r\n              title=\"Skype\"\r\n            >\r\n              <IconSkype\r\n                iconWidth={this.contactsIconWidth}\r\n                iconHeight={this.contactsIconHeight}\r\n                iconColor={this.iconColor}\r\n              />\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AuthorContacts;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./contacts.scss\";\r\nimport giphyLogo from \"./img/giphy-logo.png\";\r\nimport AuthorContacts from \"../AuthorContacts/AuthorContacts\";\r\n\r\nclass Contacts extends Component {\r\n  render() {\r\n    const giphyLogoStyle = {\r\n      width: 100,\r\n      height: 27,\r\n      display: `inline-block`\r\n    };\r\n    return (\r\n      <div className=\"app__contacts-wrapper\">\r\n        <article className=\"app__about about\">\r\n          <h2 className=\"visually-hidden\">About app</h2>\r\n          <section className=\"about__description\">\r\n            <h3 className=\"visually-hidden\">App description</h3>\r\n            <p className=\"about__app-description\">\r\n              GifShow is web application that allows users to search for and\r\n              share short looping videos with no sound, that resemble animated\r\n              GIF files. More description on{\" \"}\r\n              <a\r\n                className=\"about__link about__link--github\"\r\n                href=\"https://github.com/My420/GifShow\"\r\n                title=\"GitHub app page\"\r\n              >\r\n                GitHub\r\n              </a>\r\n            </p>\r\n            <p className=\"about__giphy\">This application uses the GIPHY API.</p>\r\n            <a\r\n              className=\"about__link about__link--giphy\"\r\n              href=\"https://developers.giphy.com/docs/\"\r\n              title=\"GIPHY API page\"\r\n            >\r\n              <img\r\n                className=\"about__image about__image--giphy\"\r\n                src={giphyLogo}\r\n                alt=\"GIPHY API\"\r\n                style={giphyLogoStyle}\r\n              />\r\n            </a>\r\n          </section>\r\n          <section className=\"about__author\">\r\n            <h3 className=\"visually-hidden\">About developer</h3>\r\n            <p className=\"about__author-info\">\r\n              Developed by Klinovitsky Aleksey.{\" \"}\r\n              <span className=\"about__year\">{`\\u00A9 2019.`}</span>\r\n            </p>\r\n            <AuthorContacts />\r\n          </section>\r\n        </article>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Contacts;\r\n\r\nContacts.propTypes = {\r\n  // from React-Router 4\r\n  match: PropTypes.object,\r\n  history: PropTypes.object,\r\n  location: PropTypes.object\r\n};\r\n","import React, { Component } from \"react\";\nimport \"./App.scss\";\nimport Header from \"../Header/Header\";\nimport Controls from \"../Controls/Controls\";\nimport ContainerType from \"../routes/ContainerType\";\nimport Contacts from \"../Contacts/Contacts\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { defineNumberOfColumns } from \"../../utils/utils.js\";\nimport { NUMBER_OF_COLUMNS } from \"../../constant\";\n\nclass App extends Component {\n  state = {\n    numberOfColumns: NUMBER_OF_COLUMNS.FOUR\n  };\n\n  onBrowserSizeChange = evt => {\n    const currentBrowserWidth = evt.target.innerWidth;\n    this.changeNumberOfColumns(currentBrowserWidth);\n  };\n\n  changeNumberOfColumns = width => {\n    const newNumber = defineNumberOfColumns(width);\n    const prewNumber = this.state.numberOfColumns;\n    if (newNumber !== prewNumber) {\n      this.setState({ numberOfColumns: newNumber });\n    }\n  };\n\n  componentDidMount() {\n    const browserWidth = document.documentElement.clientWidth;\n    this.changeNumberOfColumns(browserWidth);\n    window.addEventListener(\"resize\", this.onBrowserSizeChange);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.onBrowserSizeChange);\n  }\n\n  render() {\n    const numberOfColumns = this.state.numberOfColumns;\n\n    return (\n      <Router>\n        <section className=\"app\">\n          <Header />\n          <div className=\"app__inner-wrapper\">\n            <Controls numberOfColumns={numberOfColumns} />\n            <Switch>\n              <Route path=\"/about\" component={Contacts} />\n              <Route\n                path=\"/\"\n                component={props => (\n                  <ContainerType {...props} numberOfColumns={numberOfColumns} />\n                )}\n              />\n            </Switch>\n          </div>\n        </section>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import { CHANGE_CURRENT_DATA } from \"../constant\";\r\n\r\nconst defaultState = {\r\n  currentData: [],\r\n\r\n  resultStore: {},\r\n  itemTotalCount: null\r\n};\r\n\r\nexport default (dataState = defaultState, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case CHANGE_CURRENT_DATA:\r\n      const getCurrentData = function() {\r\n        if (payload.offset === 0) {\r\n          return { ...payload.data.data };\r\n        } else {\r\n          return { ...dataState.currentData, ...payload.data.data };\r\n        }\r\n      };\r\n\r\n      const getCurrentTotalCount = function() {\r\n        if (!payload.isRequestSingleItem) {\r\n          return payload.data.pagination.total_count;\r\n        } else {\r\n          return 1;\r\n        }\r\n      };\r\n\r\n      const getResultStore = () => {\r\n        const addressForStorage = payload.addressForStorage;\r\n        const dataForStorage = { ...payload.data };\r\n        if (addressForStorage) {\r\n          return {\r\n            ...dataState.resultStore,\r\n            [addressForStorage]: dataForStorage\r\n          };\r\n        } else {\r\n          return dataState.resultStore;\r\n        }\r\n      };\r\n\r\n      return {\r\n        ...dataState,\r\n\r\n        currentData: getCurrentData(),\r\n        itemTotalCount: getCurrentTotalCount(),\r\n        resultStore: getResultStore()\r\n      };\r\n\r\n    default:\r\n      return dataState;\r\n  }\r\n};\r\n","import { CHANGE_GALLERY_ITEM, CLOSE_GALLERY } from \"../constant\";\r\n\r\nconst defaultState = {\r\n  itemData: {},\r\n  itemUrl: ``,\r\n  isGalleryOpen: false,\r\n  itemType: null\r\n};\r\n\r\nexport default (screenState = defaultState, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case CHANGE_GALLERY_ITEM:\r\n      return {\r\n        ...screenState,\r\n        itemUrl: payload.itemUrl,\r\n        itemData: payload.itemData,\r\n        isGalleryOpen: true,\r\n        itemType: payload.itemType\r\n      };\r\n\r\n    case CLOSE_GALLERY:\r\n      return {\r\n        ...screenState,\r\n        isGalleryOpen: false\r\n      };\r\n\r\n    default:\r\n      return screenState;\r\n  }\r\n};\r\n","import { GIFS, STICKERS, GIF_SHOW } from \"../constant\";\r\n\r\nlet localStorage = window.localStorage;\r\n\r\nconst defaultGifShowStorage = {\r\n  [GIFS]: {},\r\n  [STICKERS]: {}\r\n};\r\n\r\nexport const createGifShowStorage = function() {\r\n  if (!localStorage.getItem(GIF_SHOW)) {\r\n    localStorage.setItem(GIF_SHOW, JSON.stringify(defaultGifShowStorage));\r\n  }\r\n};\r\n\r\nexport const getGifShowStorage = function() {\r\n  return JSON.parse(localStorage.getItem(GIF_SHOW));\r\n};\r\n\r\nexport const setGifShowStorage = function(newStorage) {\r\n  localStorage.setItem(GIF_SHOW, JSON.stringify(newStorage));\r\n};\r\n","import { REFRESH_FAVORITE } from \"../constant\";\r\nimport {\r\n  createGifShowStorage,\r\n  getGifShowStorage,\r\n  setGifShowStorage\r\n} from \"../utils/localStorage\";\r\n\r\nconst getDefaultState = function() {\r\n  createGifShowStorage();\r\n  return getGifShowStorage();\r\n};\r\n\r\nconst defaultState = getDefaultState();\r\n\r\nexport default (favoriteState = defaultState, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case REFRESH_FAVORITE: {\r\n      const { newFavorite } = payload;\r\n      setGifShowStorage(newFavorite);\r\n      return { ...newFavorite };\r\n    }\r\n  }\r\n\r\n  return favoriteState;\r\n};\r\n","import { LOAD_START, LOAD_COMPLETE, LOAD_ERROR } from \"../constant\";\r\n\r\nconst defaultState = {\r\n  isLoading: false,\r\n  isError: false,\r\n  errorMessage: ``\r\n};\r\n\r\nexport default (loadState = defaultState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case LOAD_START:\r\n      return { ...loadState, isLoading: true, isError: false };\r\n\r\n    case LOAD_COMPLETE:\r\n      return { ...loadState, isLoading: false, isError: false };\r\n\r\n    case LOAD_ERROR:\r\n      return {\r\n        ...loadState,\r\n        isError: true,\r\n        errorMessage: payload,\r\n        isLoading: false\r\n      };\r\n\r\n    default:\r\n      return loadState;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport isAutoplay from \"./autoplay\";\r\nimport data from \"./data\";\r\nimport gallery from \"./gallery\";\r\nimport favorite from \"./favorite\";\r\nimport loadStatus from \"./load\";\r\n\r\nexport default combineReducers({\r\n  isAutoplay,\r\n  data,\r\n  gallery,\r\n  favorite,\r\n  loadStatus\r\n});\r\n","import { SET_AUTOPLAY } from \"../constant\";\r\nexport default (isAutoplay = false, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case SET_AUTOPLAY:\r\n      return payload.isAutoplay;\r\n  }\r\n\r\n  return isAutoplay;\r\n};\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport reducer from \"../reducer/index\";\r\nimport dataLoader from \"../middlewares/dataloader\";\r\nimport favoriteloader from \"../middlewares/favoriteloader\";\r\n\r\nconst enhancer = applyMiddleware(dataLoader, favoriteloader);\r\n\r\nconst store = createStore(reducer, {}, enhancer);\r\n\r\nexport default store;\r\n","import {\r\n  LOAD_DATA,\r\n  LOAD_START,\r\n  LOAD_COMPLETE,\r\n  LOAD_ERROR,\r\n  CHANGE_CURRENT_DATA\r\n} from \"../constant\";\r\nimport {\r\n  getAddressFromRequest,\r\n  massToObj,\r\n  sortOnHeight,\r\n  checkStatus\r\n} from \"../utils/utils\";\r\n\r\nexport default store => next => action => {\r\n  const { type, payload } = action;\r\n  if (type === LOAD_DATA) {\r\n    next({\r\n      type: LOAD_START\r\n    });\r\n\r\n    const requestedData = getAddressFromRequest(payload);\r\n\r\n    const {\r\n      addressForAPI,\r\n      addressForStorage,\r\n      isRequestSingleItem\r\n    } = requestedData;\r\n\r\n    const currentStore = store.getState();\r\n    const resultStore = currentStore.data.resultStore;\r\n\r\n    if (resultStore[addressForStorage]) {\r\n      requestedData.data = { ...resultStore[addressForStorage] };\r\n      next({ ...action, type: CHANGE_CURRENT_DATA, payload: requestedData });\r\n      next({ type: LOAD_COMPLETE });\r\n    } else {\r\n      fetch(addressForAPI)\r\n        .then(checkStatus)\r\n        .then(resp => {\r\n          return resp.json();\r\n        })\r\n        .then(data => {\r\n          requestedData.data = data;\r\n          if (!isRequestSingleItem) {\r\n            requestedData.data.data.sort(sortOnHeight);\r\n            requestedData.data.data = massToObj(requestedData.data.data);\r\n          } else {\r\n            const id = requestedData.data.data.id;\r\n            requestedData.data.data = { [id]: requestedData.data.data };\r\n          }\r\n          next({\r\n            ...action,\r\n            type: CHANGE_CURRENT_DATA,\r\n            payload: requestedData\r\n          });\r\n          next({ type: LOAD_COMPLETE });\r\n        })\r\n        .catch(error => {\r\n          next({ ...action, type: LOAD_ERROR, payload: error.message });\r\n        });\r\n    }\r\n  }\r\n  return next(action);\r\n};\r\n","import {\r\n  LOAD_START,\r\n  LOAD_COMPLETE,\r\n  LOAD_FAVORITE,\r\n  FAVORITE,\r\n  CHANGE_CURRENT_DATA,\r\n  ADD_TO_FAVORITE,\r\n  REFRESH_FAVORITE,\r\n  DELETE_FROM_FAVORITE\r\n} from \"../constant\";\r\nimport { getDataWithOffset, getItemsAmount } from \"../utils/utils\";\r\n\r\nexport default store => next => action => {\r\n  const { type, payload } = action;\r\n\r\n  if (type === LOAD_FAVORITE) {\r\n    next({\r\n      type: LOAD_START\r\n    });\r\n\r\n    const { itemType, offset } = payload;\r\n    const fullData = store.getState()[FAVORITE][itemType];\r\n    const total_count = getItemsAmount(fullData);\r\n    const data = getDataWithOffset(fullData, offset);\r\n\r\n    const requestedData = {\r\n      data: {\r\n        data: data,\r\n        pagination: {\r\n          total_count: total_count\r\n        }\r\n      },\r\n      offset: offset,\r\n      isRequestSingleItem: false,\r\n      addressForStorage: null\r\n    };\r\n    next({\r\n      ...action,\r\n      type: CHANGE_CURRENT_DATA,\r\n      payload: requestedData\r\n    });\r\n    next({ type: LOAD_COMPLETE });\r\n  }\r\n\r\n  if (type === ADD_TO_FAVORITE || type === DELETE_FROM_FAVORITE) {\r\n    const { data, itemType } = payload;\r\n    const id = data.id;\r\n\r\n    const favorite = store.getState()[FAVORITE];\r\n    let newFavorite = { ...favorite };\r\n\r\n    if (type === ADD_TO_FAVORITE) {\r\n      newFavorite[itemType][id] = data;\r\n    } else if (type === DELETE_FROM_FAVORITE) {\r\n      delete newFavorite[itemType][id];\r\n    }\r\n\r\n    next({ ...action, type: REFRESH_FAVORITE, payload: { newFavorite } });\r\n  }\r\n  return next(action);\r\n};\r\n","import React from \"react\";\r\n\r\nimport App from \"../App/App\";\r\nimport store from \"../../store/store\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nfunction Root() {\r\n  return (\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default Root;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport Root from \"./components/Root/Root\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<Root />, document.getElementById(\"root\"));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}